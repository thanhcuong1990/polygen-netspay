<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      
      <!-- Browser Tab -->
      <title>NetsPay</title>
      <link rel="icon" type="image/png" href="images/icons/favicon-16x16.png"/>
      <link rel="manifest" href="manifest.json">

      <!-- Vue.js -->
      <!-- development version, includes helpful console warnings -->
      <!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->
      <!-- production version, optimized for size and speed -->
      <script src="https://cdn.jsdelivr.net/npm/vue"></script>

      <!-- Home Screen setting -->
      <meta name="viewport" content = "width=device-width, initial-scale = 1.0, minimum-scale = 1, maximum-scale = 1, user-scalable = no" />
      <meta name="mobile-web-app-capable" content="yes">
      <meta name="apple-mobile-web-app-capable" content="yes">
      <!-- apple-mobile-web-app-capable doesn't allow camera access on IOS 11 -->
      <meta id="theme-color" name="theme-color" content="#ffffff">
      <meta itemprop="image" content="images/icons/apple-icon-192x192.png">

      <base target="_blank">

      <!-- App launcher icon -->
      <link rel="icon" sizes="192x192" href="images/icons/android-icon-192x192.png">
      <link rel="icon" sizes="144x144" href="images/icons/android-icon-144x144.png">

      <!--Bootstrap-->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="js/webrtc/instascan.min.js"></script>
      <!-- Stylesheet -->
      <link href="css/main.css" rel="stylesheet" />
      
    </head>

    <body>
      <div class="header">
        <img class="image-netsPay-logo" src="images/main/netsPay-logo.png" />
        <img class="image-add-icon" src="images/main/add-icon.png" />
      </div>

      <div class="body">
        <div id="page_wallet">
          <!-- <p id="cards" class="cards">{{ value }}</p> -->
          <img id="ocbc_card" class="image-ocbc-card" src="images/main/ocbc-card.png" />
          <img id="nfc_icon" class="image-nfc" src="images/main/nfc-icon.png" />
          
          <div class="background-fade"></div>
          <div class="transaction-details">
            <img class="image-merchant" src="images/main/merchant.png" />
            <p class="text-merchant">YONG YUAN VEGETARIAN</p>
            <p class="text-title">MERCHANT NAME</p>
            <p class="text-amount">ENTER AMOUNT</p>
            <input type="number" />
          </div>
        </div>

        <div id="page_camera">
          <video id="gum-local" class="camera-window" autoplay playsinline></video>
          <div id="errorMsg"></div>
        </div>

        <div class="container-button">
          <button id="button_scan" class="button-invisible"></button>
          <button id="button_wallet" class="button-invisible"></button>
          <button id="button_settings" class="button-invisible"></button>
        </div>
      </div>
      
      <div class="footer">
        <img class="image-footer-bar" src="images/main/footer-bar.png" />
      </div>



      <!-- WebRTC Library -->
      <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
      <script src="js/webrtc/common.js"></script>
      <script src="js/webrtc/main.js"></script>
      <script src="js/webrtc/ga.js"></script>

      <script src="js/main.js"></script>

    <script type="text/javascript">
 let scanner = new Instascan.Scanner(
  { 
    continuous: true,
    video: document.getElementById('gum-local'),
    mirror: false,
    captureImage: false,
    backgroundScan: true,
    refractoryPeriod: 1000,
    scanPeriod: 1
  });
scanner.addListener('scan', function (content) {
  window.alert(content);
  // $('.background-fade').fadeIn();
  // $('.transaction-details').animate({bottom:'0%'});
});
Instascan.Camera.getCameras().then(function (cameras) {
  if (cameras.length > 0) {
    scanner.start(cameras[1]);
  } else {
    window.alert('No camera found');
  }
}).catch(function (e) {
  window.alert(e);
});
    </script>

    </body>

</html>



